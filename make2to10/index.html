<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!-- 
        作者：angruniu
        项目介绍：用户输入8个以内的2进制数，输出10进制
     -->
    
     <input type="text" id="number">
     <input type="button" value="开始进行进制转换" id="btn">
     <script>
        let number = document.querySelector('#number');
        let btn = document.querySelector('#btn');
        let tip = document.querySelector('#tip')
        function make2to10(number1){
            let arr = [...number1].reverse();
            let sum = 0;
            let j=8;
            for(let i = 0 ; i<arr.length ; i++){
                sum += Math.pow(2,i)*arr[i];
            }
            number.value = sum;
        }
        // 这里有点问题，input改变一下，会触发两次
        number.addEventListener('input',function(e){
            let value = e.srcElement.value.split('');
            let i = value[value.length-1];
            if(i!=1&&i!=0){
                number.value=value.slice(0,value.length-1)
                alert('请填入1或0');
            }
        })
        btn.addEventListener('click',function(){
            make2to10(number.value)
        })
     </script>
</body>
</html>